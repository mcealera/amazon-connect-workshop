{"modules":[{"id":"9972b0d8-feca-477d-8324-932d2c75243c","type":"SetQueue","branches":[{"condition":"Success","transition":"bf00d79d-53c3-4510-bb41-aa7868164f01"},{"condition":"Error","transition":"7b7baec5-6c4c-489c-88b2-65f3870df0af"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-east-1:237336113447:instance/512cdf21-88b7-4ae0-aae1-875f6130d6f6/queue/93695652-16a9-4ba2-9f09-c52c892d8747","namespace":null,"resourceName":"BasicQueue"}],"metadata":{"position":{"x":1611,"y":11},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-east-1:237336113447:instance/512cdf21-88b7-4ae0-aae1-875f6130d6f6/queue/93695652-16a9-4ba2-9f09-c52c892d8747","text":"BasicQueue"}}},{"id":"bf00d79d-53c3-4510-bb41-aa7868164f01","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"141273a4-a1e9-4e56-a8df-26611c53f55d"},{"condition":"Error","transition":"7b7baec5-6c4c-489c-88b2-65f3870df0af"}],"parameters":[],"metadata":{"position":{"x":1623,"y":225},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"141273a4-a1e9-4e56-a8df-26611c53f55d","type":"PlayPrompt","branches":[{"condition":"Success","transition":"5d00bf05-4fb7-4e29-9e03-d737398685a6"}],"parameters":[{"name":"Text","value":"I'm sorry. It seems our queue is at capacity. Try again later","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1622,"y":434},"useDynamic":false}},{"id":"7b7baec5-6c4c-489c-88b2-65f3870df0af","type":"PlayPrompt","branches":[{"condition":"Success","transition":"5d00bf05-4fb7-4e29-9e03-d737398685a6"}],"parameters":[{"name":"Text","value":"I'm sorry. It seems a problem occured. Try again later","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1870,"y":213},"useDynamic":false}},{"id":"5d00bf05-4fb7-4e29-9e03-d737398685a6","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1860,"y":589}}},{"id":"1585bc67-f7bc-491e-ac6e-68b92d36b1f7","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"dc193dd2-f7d2-4c6b-a767-7bd6fe43cd07"},{"condition":"Error","transition":"829acf4a-8ed1-4e07-8d2c-0207b293702e"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:237336113447:function:updateCustomer","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"intent","value":"intent","namespace":"User Defined"}],"metadata":{"position":{"x":1180,"y":17},"dynamicMetadata":{"intent":true},"useDynamic":false},"target":"Lambda"},{"id":"3e0c5b14-7a4f-40ee-924a-3ee12d8cf186","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"46853b87-c98e-4b4e-b8e4-23fe2a5e9d94"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":130,"y":21}}},{"id":"46853b87-c98e-4b4e-b8e4-23fe2a5e9d94","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"30087482-c8ad-4961-a540-882e01427362"},{"condition":"Error","transition":"9d801614-ca63-4335-ae5d-5dd88b5a5542"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:237336113447:function:getCustomer2","namespace":null},{"name":"TimeLimit","value":"8"}],"metadata":{"position":{"x":351,"y":22},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"30087482-c8ad-4961-a540-882e01427362","type":"PlayPrompt","branches":[{"condition":"Success","transition":"3a70cda5-2a4e-4a7a-a4f7-290e8778081e"}],"parameters":[{"name":"Text","value":"Hello $.External.name","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":574,"y":20},"useDynamic":false}},{"id":"dc193dd2-f7d2-4c6b-a767-7bd6fe43cd07","type":"PlayPrompt","branches":[{"condition":"Success","transition":"9972b0d8-feca-477d-8324-932d2c75243c"}],"parameters":[{"name":"Text","value":"I'm putting you in the queue","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1403,"y":17},"useDynamic":false}},{"id":"f57a079e-23fc-4392-abd5-8f9a8b0ac4f3","type":"PlayPrompt","branches":[{"condition":"Success","transition":"c2311c5d-48d8-4f34-b2b3-f80fff3cc447"}],"parameters":[{"name":"Text","value":"The last time you called, it was about dogs.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":262,"y":248},"useDynamic":false}},{"id":"628c22be-9594-4897-b153-f369058d6975","type":"PlayPrompt","branches":[{"condition":"Success","transition":"c2311c5d-48d8-4f34-b2b3-f80fff3cc447"}],"parameters":[{"name":"Text","value":"The last time you called, it was about cats","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":261,"y":406},"useDynamic":false}},{"id":"b1a60c57-f2f4-4aae-882f-a3ab9f2d1f21","type":"SetAttributes","branches":[{"condition":"Success","transition":"1585bc67-f7bc-491e-ac6e-68b92d36b1f7"},{"condition":"Error","transition":"829acf4a-8ed1-4e07-8d2c-0207b293702e"}],"parameters":[{"name":"Attribute","value":"cats","key":"intent","namespace":null}],"metadata":{"position":{"x":962,"y":217}}},{"id":"2af1fea8-0bf9-472e-9b87-66ad90127199","type":"SetAttributes","branches":[{"condition":"Success","transition":"1585bc67-f7bc-491e-ac6e-68b92d36b1f7"},{"condition":"Error","transition":"829acf4a-8ed1-4e07-8d2c-0207b293702e"}],"parameters":[{"name":"Attribute","value":"dogs","key":"intent","namespace":null}],"metadata":{"position":{"x":930,"y":14}}},{"id":"829acf4a-8ed1-4e07-8d2c-0207b293702e","type":"PlayPrompt","branches":[{"condition":"Success","transition":"5d00bf05-4fb7-4e29-9e03-d737398685a6"}],"parameters":[{"name":"Text","value":"I'm sorry. It seems a problem occured. Try again later","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1249,"y":396},"useDynamic":false}},{"id":"3a70cda5-2a4e-4a7a-a4f7-290e8778081e","type":"CheckAttribute","branches":[{"condition":"NoMatch","transition":"9d801614-ca63-4335-ae5d-5dd88b5a5542"},{"condition":"Evaluate","conditionType":"Contains","conditionValue":"dogs","transition":"f57a079e-23fc-4392-abd5-8f9a8b0ac4f3"},{"condition":"Evaluate","conditionType":"Contains","conditionValue":"cats","transition":"628c22be-9594-4897-b153-f369058d6975"}],"parameters":[{"name":"Attribute","value":"lastIntent"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":34,"y":240},"conditionMetadata":[{"id":"443f91c8-acfa-4ff0-9105-8733b3019b17","operator":{"name":"Contains","value":"Contains","shortDisplay":"contains"},"value":"dogs"},{"id":"118980f0-4f60-4102-b836-15d3220fa325","operator":{"name":"Contains","value":"Contains","shortDisplay":"contains"},"value":"cats"}]}},{"id":"c2311c5d-48d8-4f34-b2b3-f80fff3cc447","type":"GetUserInput","branches":[{"condition":"Timeout","transition":"9d801614-ca63-4335-ae5d-5dd88b5a5542"},{"condition":"NoMatch","transition":"9d801614-ca63-4335-ae5d-5dd88b5a5542"},{"condition":"Error","transition":"829acf4a-8ed1-4e07-8d2c-0207b293702e"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"dc193dd2-f7d2-4c6b-a767-7bd6fe43cd07"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"9d801614-ca63-4335-ae5d-5dd88b5a5542"}],"parameters":[{"name":"Text","value":"Press 1 to keep the selection.\nPress 2 to make a new selection.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":482,"y":243},"conditionMetadata":[{"id":"5cdd78f8-5e23-43d6-8626-ead93cd4961e","value":"1"},{"id":"c97cc865-4276-46d2-94ea-40cdd35fa146","value":"2"}],"useDynamic":false},"target":"Digits"},{"id":"9d801614-ca63-4335-ae5d-5dd88b5a5542","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"2af1fea8-0bf9-472e-9b87-66ad90127199"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"b1a60c57-f2f4-4aae-882f-a3ab9f2d1f21"},{"condition":"Timeout","transition":"2af1fea8-0bf9-472e-9b87-66ad90127199"},{"condition":"NoMatch","transition":"2af1fea8-0bf9-472e-9b87-66ad90127199"},{"condition":"Error","transition":"829acf4a-8ed1-4e07-8d2c-0207b293702e"}],"parameters":[{"name":"Text","value":"Press 1 if you would like to know more about dogs.\nPress 2 for cats.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":731,"y":245},"conditionMetadata":[{"id":"d81b8fbc-98ed-49ad-b0ee-fb05b9a2e126","value":"1"},{"id":"4fd3f771-9bdf-48b4-a15c-326002ca1ef5","value":"2"}],"useDynamic":false},"target":"Digits"}],"version":"1","type":"contactFlow","start":"3e0c5b14-7a4f-40ee-924a-3ee12d8cf186","metadata":{"entryPointPosition":{"x":20,"y":20},"snapToGrid":false,"name":"TransferToQueue2","description":null,"type":"contactFlow","status":"published","hash":"184c8d45cf98a9425a70e534d616fa8419e78f460d49b28461766efc7d4e21e6"}}